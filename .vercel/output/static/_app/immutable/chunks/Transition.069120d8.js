import{S as ae,i as ie,s as oe,k as re,l as ue,m as ce,h as z,p as B,b as fe,L as me,g as L,v as de,d as A,f as _e,Y as he,Z as ve,_ as we,$ as ye,O as Ce,P as Fe,Q as Te,R as be,t as ge}from"./index.1b571520.js";import{w as Pe}from"./singletons.0d3e7b8e.js";function G(t){let e;const n=t[13].default,a=Ce(n,t,t[12],null);return{c(){a&&a.c()},l(i){a&&a.l(i)},m(i,c){a&&a.m(i,c),e=!0},p(i,c){a&&a.p&&(!e||c&4096)&&Fe(a,n,i,i[12],e?be(n,i[12],c,null):Te(i[12]),null)},i(i){e||(L(a,i),e=!0)},o(i){A(a,i),e=!1},d(i){a&&a.d(i)}}}function ke(t){let e,n,a,i,c,l=t[2]&&G(t);return{c(){e=re("div"),l&&l.c(),this.h()},l(o){e=ue(o,"DIV",{});var u=ce(e);l&&l.l(u),u.forEach(z),this.h()},h(){B(e,"display",t[1])},m(o,u){fe(o,e,u),l&&l.m(e,null),a=!0,i||(c=me(n=t[3].call(null,e,t[0])),i=!0)},p(o,[u]){o[2]?l?(l.p(o,u),u&4&&L(l,1)):(l=G(o),l.c(),L(l,1),l.m(e,null)):l&&(de(),A(l,1,1,()=>{l=null}),_e()),n&&he(n.update)&&u&1&&n.update.call(null,o[0]),u&2&&B(e,"display",o[1])},i(o){a||(L(l),a=!0)},o(o){A(l),a=!1},d(o){o&&z(e),l&&l.d(),i=!1,c()}}}const H={};function v(t){return t?t.split(" ").filter(e=>e):[]}function Ee(){const t=requestAnimationFrame;return new Promise(e=>t(()=>t(e)))}function Le(t,e,n){let a,i,c,l,o,u,{$$slots:J={},$$scope:I}=e,{show:d=null}=e,{appear:q=!1}=e,{unmount:w=!1}=e,{enter:y=""}=e,{enterFrom:C=""}=e,{enterTo:F=""}=e,{leave:T=null}=e,{leaveFrom:b=null}=e,{leaveTo:g=null}=e;const f=d===null?ve(H):null,{subscribe:K,set:N}=Pe(d),_={appear:f?f.appear:q,count:0,show:{subscribe:K},completed:()=>{}};let D=d&&!_.appear?"contents":"none",P=!w||d===!0;we(H,_);const k=ye();function U(s,W){let E;function M(...r){E.classList.add(...r)}function O(...r){E.classList.remove(...r)}function X(r){return r.length?new Promise(m=>E.addEventListener("transitionend",h=>{h.stopPropagation(),m()},{once:!0})):Promise.resolve()}function p(r){return _.count?new Promise(m=>{let h=0;_.completed=()=>(++h===_.count&&m(),r)}):Promise.resolve()}async function Q(r,m,h,Z){E=await x();let j=()=>{};const te=new Promise(se=>{j=se}),ne=p(te);N(r),M(...m,...h);const le=X(m);await Ee(),O(...h),M(...Z),await Promise.all([le,ne]),f&&await f.completed(),O(...m,...Z),j()}async function x(){return w&&!P&&(n(2,P=!0),await ge()),s.firstElementChild}async function $(){k("before-enter"),n(1,D="contents"),await Q(!0,a,i,c),k("after-enter")}async function ee(){k("before-leave"),await Q(!1,l,o,u),n(1,D="none"),w&&n(2,P=!1),k("after-leave")}let R=_.appear;function S(r){Y=R?r?$():ee():Promise.resolve(),R=!0}let V,Y;return f?(f.count++,V=f.show.subscribe(S)):S(W),{update(r){Y.then(()=>S(r))},destroy(){f&&(V(),f.count--)}}}return t.$$set=s=>{"show"in s&&n(0,d=s.show),"appear"in s&&n(4,q=s.appear),"unmount"in s&&n(5,w=s.unmount),"enter"in s&&n(6,y=s.enter),"enterFrom"in s&&n(7,C=s.enterFrom),"enterTo"in s&&n(8,F=s.enterTo),"leave"in s&&n(9,T=s.leave),"leaveFrom"in s&&n(10,b=s.leaveFrom),"leaveTo"in s&&n(11,g=s.leaveTo),"$$scope"in s&&n(12,I=s.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&(a=v(y)),t.$$.dirty&128&&(i=v(C)),t.$$.dirty&256&&(c=v(F)),t.$$.dirty&576&&(l=v(T===null?y:T)),t.$$.dirty&1280&&(o=v(b===null?F:b)),t.$$.dirty&2176&&(u=v(g===null?C:g))},[d,D,P,U,q,w,y,C,F,T,b,g,I,J]}class Se extends ae{constructor(e){super(),ie(this,e,Le,ke,oe,{show:0,appear:4,unmount:5,enter:6,enterFrom:7,enterTo:8,leave:9,leaveFrom:10,leaveTo:11})}}export{Se as T};
